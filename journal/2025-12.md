# 2025å¹´12æœˆå­¦ä¹ ç¬”è®°

## 12.05 - ç¬¬ä¸€æ¬¡è°ƒç”¨ OpenAI API

### å°è¯•
æŒ‰ç…§å®˜æ–¹æ–‡æ¡£å†™äº†ç¬¬ä¸€æ®µä»£ç ï¼š

```python
import openai

client = openai.OpenAI(api_key="sk-xxx")
response = client.chat.completions.create(
    model="gpt-3.5-turbo",
    messages=[{"role": "user", "content": "ä½ å¥½"}]
)
```

### é—®é¢˜
1. **Key æ³„éœ²é£é™©** - ç›´æ¥ç¡¬ç¼–ç  API key ä¸å®‰å…¨
2. **ä¸çŸ¥é“ç”¨ä»€ä¹ˆæ¨¡å‹** - gpt-3.5-turbo å’Œ gpt-4 æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
3. **è¿”å›æ ¼å¼** - response çš„ç»“æ„å¾ˆå¤æ‚ï¼Œä¸çŸ¥é“æ€ä¹ˆæå–å›å¤

### è§£å†³
1. å­¦äº† `python-dotenv`ï¼š
```python
from dotenv import load_dotenv
load_dotenv()
api_key = os.getenv("OPENAI_API_KEY")
```

2. çœ‹æ–‡æ¡£äº†è§£åˆ°ï¼š
   - gpt-3.5-turboï¼šä¾¿å®œã€å¿«ï¼Œé€‚åˆå¤§é‡è°ƒç”¨
   - gpt-4ï¼šè´µã€æ…¢ï¼Œä½†æ¨ç†èƒ½åŠ›å¼º

3. æå–å›å¤ï¼š
```python
message = response.choices[0].message.content
```

### ç»“è®º
- èƒ½ç”¨äº†ï¼Œä½†åªæ˜¯ç®€å•çš„ echoï¼ˆå¤è¯»æœºï¼‰
- æ²¡æœ‰ä¸Šä¸‹æ–‡ï¼Œæ¯æ¬¡å¯¹è¯éƒ½æ˜¯ç‹¬ç«‹çš„

---

## 12.12 - æ·»åŠ å¯¹è¯å†å²

### å°è¯•
```python
messages = []
messages.append({"role": "user", "content": "æˆ‘å«å°ç‹"})
messages.append({"role": "assistant", "content": "ä½ å¥½å°ç‹"})
messages.append({"role": "user", "content": "æˆ‘å«ä»€ä¹ˆåå­—"})
```

### é—®é¢˜
- æµ‹è¯•äº†å‘ç°ï¼ŒAgent æ²¡è®°ä½ï¼Œè¿˜æ˜¯éšä¾¿è¯´ä¸ªåå­—
- çœ‹æ–‡æ¡£æ‰çŸ¥é“ï¼Œ`messages` åº”è¯¥åŒ…å«æ‰€æœ‰å†å²å¯¹è¯

### ä¿®æ­£
```python
messages = [
    {"role": "user", "content": "æˆ‘å«å°ç‹"},
    {"role": "assistant", "content": "ä½ å¥½å°ç‹"},
    {"role": "user", "content": "æˆ‘å«ä»€ä¹ˆåå­—"}
]
```

### ç»“è®º
- ç°åœ¨èƒ½è®°ä½äº†ï¼Œä½†å†å²ä¸€é•¿æ€ä¹ˆåŠï¼Ÿ
- token é™åˆ¶æ˜¯ 4096ï¼ˆå½“æ—¶æ˜¯ gpt-3.5ï¼‰ï¼Œå¯¹è¯å¤šäº†å°±è¶…äº†

---

## 12.20 - å°è¯•ä¸Šä¸‹æ–‡å‹ç¼©

### é—®é¢˜å‘ç°
å¯¹è¯è¶…è¿‡ 10 è½®å·¦å³å°±å¼€å§‹æŠ¥é”™ï¼š`maximum context length exceeded`

### å°è¯•æ–¹æ¡ˆ
1. **ç®€å•æˆªæ–­** - åªä¿ç•™æœ€è¿‘çš„ 5 æ¡
   - é—®é¢˜ï¼šå¯èƒ½ä¸¢æ‰é‡è¦ä¿¡æ¯

2. **æ‘˜è¦** - æŠŠæ—§å¯¹è¯è®© LLM æ‘˜è¦æˆä¸€æ®µè¯
   - é—®é¢˜ï¼šæ‘˜è¦ä¹Ÿå¯èƒ½è¶… token

### ç»“è®º
æš‚æ—¶ç”¨æ–¹æ¡ˆ 1ï¼Œå‡†å¤‡å­¦ä¹ æ›´å¥½çš„æ–¹æ³•

---

## æœ¬æœˆå°ç»“

âœ… **å­¦ä¼šçš„ï¼š**
- åŸºæœ¬çš„ OpenAI API è°ƒç”¨
- å¯¹è¯å†å²çš„ç»´æŠ¤
- ç®€å•çš„ä¸Šä¸‹æ–‡ç®¡ç†

âŒ **å›°æƒ‘çš„ï¼š**
- Token æ€ä¹ˆç²¾ç¡®è®¡ç®—ï¼Ÿ
- é•¿å¯¹è¯æ€ä¹ˆå¤„ç†ï¼Ÿ
- "ä¸Šä¸‹æ–‡"å’Œ"è®°å¿†"æ˜¯ä¸æ˜¯ä¸€å›äº‹ï¼Ÿ

ğŸ“ **ä¸‹ä¸€æ­¥ï¼š**
- äº†è§£ RAG çš„æ¦‚å¿µ
- çœ‹çœ‹ LangChain æ˜¯æ€ä¹ˆå¤„ç†è¿™äº›é—®é¢˜çš„
